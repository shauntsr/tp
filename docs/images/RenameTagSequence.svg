<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="789px" preserveAspectRatio="none" style="width:1097px;height:789px;background:#FFFFFF;" version="1.1" viewBox="0 0 1097 789" width="1097px" zoomAndPan="magnify"><defs/><g><g><title>.Zettel</title><rect fill="#FFFFFF" height="724.2384" style="stroke:#181818;stroke-width:1;" width="10" x="42.6359" y="49.0679"/></g><g><title>.RenameTagCommand</title><rect fill="#FFFFFF" height="691.5324" style="stroke:#181818;stroke-width:1;" width="10" x="464.2052" y="72.7739"/></g><g><title>notes.ArrayList.Note.</title><rect fill="#FFFFFF" height="31.706" style="stroke:#181818;stroke-width:1;" width="10" x="687.8804" y="574.0702"/></g><g><title>tags.List.String.</title><rect fill="#FFFFFF" height="31.706" style="stroke:#181818;stroke-width:1;" width="10" x="840.3369" y="169.892"/></g><g><title>tags.List.String.</title><rect fill="#FFFFFF" height="31.706" style="stroke:#181818;stroke-width:1;" width="10" x="840.3369" y="364.1281"/></g><g><title>tags.List.String.</title><rect fill="#FFFFFF" height="31.706" style="stroke:#181818;stroke-width:1;" width="10" x="840.3369" y="492.9521"/></g><g><title>ui.UI</title><rect fill="#FFFFFF" height="31.706" style="stroke:#181818;stroke-width:1;" width="10" x="934.8826" y="700.8943"/></g><g><title>storage.Storage</title><rect fill="#FFFFFF" height="31.706" style="stroke:#181818;stroke-width:1;" width="10" x="1027.1184" y="637.4822"/></g><rect fill="none" height="51.412" style="stroke:#000000;stroke-width:1.5;" width="551.5599" x="10" y="87.7739"/><rect fill="none" height="51.412" style="stroke:#000000;stroke-width:1.5;" width="551.5599" x="10" y="216.598"/><rect fill="none" height="51.412" style="stroke:#000000;stroke-width:1.5;" width="551.5599" x="10" y="282.01"/><rect fill="none" height="51.412" style="stroke:#000000;stroke-width:1.5;" width="551.5599" x="10" y="410.8341"/><g><title>.Zettel</title><rect fill="#000000" fill-opacity="0.00000" height="743.2384" width="8" x="43.6359" y="39.0679"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="47" x2="47" y1="39.0679" y2="782.3063"/></g><g><title>.RenameTagCommand</title><rect fill="#000000" fill-opacity="0.00000" height="743.2384" width="8" x="465.2052" y="39.0679"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="468.8505" x2="468.8505" y1="39.0679" y2="782.3063"/></g><g><title>notes.ArrayList.Note.</title><rect fill="#000000" fill-opacity="0.00000" height="743.2384" width="8" x="688.8804" y="39.0679"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="692.4717" x2="692.4717" y1="39.0679" y2="782.3063"/></g><g><title>tags.List.String.</title><rect fill="#000000" fill-opacity="0.00000" height="743.2384" width="8" x="841.3369" y="39.0679"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="845.2891" x2="845.2891" y1="39.0679" y2="782.3063"/></g><g><title>ui.UI</title><rect fill="#000000" fill-opacity="0.00000" height="743.2384" width="8" x="935.8826" y="39.0679"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="939.3847" x2="939.3847" y1="39.0679" y2="782.3063"/></g><g><title>storage.Storage</title><rect fill="#000000" fill-opacity="0.00000" height="743.2384" width="8" x="1028.1184" y="39.0679"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1031.3806" x2="1031.3806" y1="39.0679" y2="782.3063"/></g><g class="participant participant-head" data-participant="Zettel"><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="55.2718" x="20" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41.2718" x="27" y="26.9659">:Zettel</text></g><g class="participant participant-head" data-participant="Command"><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="164.7094" x="386.8505" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="150.7094" x="393.8505" y="26.9659">:RenameTagCommand</text></g><g class="participant participant-head" data-participant="Notes"><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="160.8174" x="612.4717" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146.8174" x="619.4717" y="26.9659">notes:ArrayList&lt;Note&gt;</text></g><g class="participant participant-head" data-participant="Tags"><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="124.0956" x="783.2891" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110.0956" x="790.2891" y="26.9659">tags:List&lt;String&gt;</text></g><g class="participant participant-head" data-participant="UI"><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="44.9959" x="917.3847" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30.9959" x="924.3847" y="26.9659">ui:UI</text></g><g class="participant participant-head" data-participant="Storage"><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="119.4756" x="972.3806" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105.4756" x="979.3806" y="26.9659">storage:Storage</text></g><g><title>.Zettel</title><rect fill="#FFFFFF" height="724.2384" style="stroke:#181818;stroke-width:1;" width="10" x="42.6359" y="49.0679"/></g><g><title>.RenameTagCommand</title><rect fill="#FFFFFF" height="691.5324" style="stroke:#181818;stroke-width:1;" width="10" x="464.2052" y="72.7739"/></g><g><title>notes.ArrayList.Note.</title><rect fill="#FFFFFF" height="31.706" style="stroke:#181818;stroke-width:1;" width="10" x="687.8804" y="574.0702"/></g><g><title>tags.List.String.</title><rect fill="#FFFFFF" height="31.706" style="stroke:#181818;stroke-width:1;" width="10" x="840.3369" y="169.892"/></g><g><title>tags.List.String.</title><rect fill="#FFFFFF" height="31.706" style="stroke:#181818;stroke-width:1;" width="10" x="840.3369" y="364.1281"/></g><g><title>tags.List.String.</title><rect fill="#FFFFFF" height="31.706" style="stroke:#181818;stroke-width:1;" width="10" x="840.3369" y="492.9521"/></g><g><title>ui.UI</title><rect fill="#FFFFFF" height="31.706" style="stroke:#181818;stroke-width:1;" width="10" x="934.8826" y="700.8943"/></g><g><title>storage.Storage</title><rect fill="#FFFFFF" height="31.706" style="stroke:#181818;stroke-width:1;" width="10" x="1027.1184" y="637.4822"/></g><g class="message" data-participant-1="Zettel" data-participant-2="Command"><polygon fill="#181818" points="452.2052,68.7739,462.2052,72.7739,452.2052,76.7739,456.2052,72.7739" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="52.6359" x2="458.2052" y1="72.7739" y2="72.7739"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="194.7532" x="59.6359" y="66.9649">execute(notes, tags, ui, storage)</text></g><path d="M10,87.7739 L76.918,87.7739 L76.918,97.4799 L66.918,107.4799 L10,107.4799 L10,87.7739" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="51.412" style="stroke:#000000;stroke-width:1.5;" width="551.5599" x="10" y="87.7739"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21.918" x="25" y="102.6709">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="137.983" x="91.918" y="101.5328">[Missing or blank oldTag]</text><g class="message" data-participant-1="Command" data-participant-2="Zettel"><polygon fill="#181818" points="63.6359,127.186,53.6359,131.186,63.6359,135.186,59.6359,131.186" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="57.6359" x2="463.2052" y1="131.186" y2="131.186"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="368.5763" x="69.6359" y="125.377">throw InvalidFormatException("No tag provided to rename")</text></g><g class="message" data-participant-1="Command" data-participant-2="Tags"><polygon fill="#181818" points="828.3369,165.892,838.3369,169.892,828.3369,173.892,832.3369,169.892" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="474.2052" x2="834.3369" y1="169.892" y2="169.892"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129.1941" x="481.2052" y="164.083">check if oldTag exists</text></g><g class="message" data-participant-1="Tags" data-participant-2="Command"><polygon fill="#181818" points="485.2052,197.598,475.2052,201.598,485.2052,205.598,481.2052,201.598" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="479.2052" x2="844.3369" y1="201.598" y2="201.598"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105.1311" x="491.2052" y="195.789">result (true/false)</text></g><path d="M10,216.598 L76.918,216.598 L76.918,226.304 L66.918,236.304 L10,236.304 L10,216.598" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="51.412" style="stroke:#000000;stroke-width:1.5;" width="551.5599" x="10" y="216.598"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21.918" x="25" y="231.495">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="101.3973" x="91.918" y="230.3569">[oldTag not found]</text><g class="message" data-participant-1="Command" data-participant-2="Zettel"><polygon fill="#181818" points="63.6359,256.01,53.6359,260.01,63.6359,264.01,59.6359,260.01" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="57.6359" x2="463.2052" y1="260.01" y2="260.01"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="363.3243" x="69.6359" y="254.201">throw TagNotFoundException("Tag 'oldTag' does not exist")</text></g><path d="M10,282.01 L76.918,282.01 L76.918,291.716 L66.918,301.716 L10,301.716 L10,282.01" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="51.412" style="stroke:#000000;stroke-width:1.5;" width="551.5599" x="10" y="282.01"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21.918" x="25" y="296.907">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="144" x="91.918" y="295.7689">[Missing or blank newTag]</text><g class="message" data-participant-1="Command" data-participant-2="Zettel"><polygon fill="#181818" points="63.6359,321.4221,53.6359,325.4221,63.6359,329.4221,59.6359,325.4221" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="57.6359" x2="463.2052" y1="325.4221" y2="325.4221"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="368.9014" x="69.6359" y="319.6131">throw InvalidFormatException("No new tag name provided")</text></g><g class="message" data-participant-1="Command" data-participant-2="Tags"><polygon fill="#181818" points="828.3369,360.1281,838.3369,364.1281,828.3369,368.1281,832.3369,364.1281" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="474.2052" x2="834.3369" y1="364.1281" y2="364.1281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184.2101" x="481.2052" y="358.3191">check if newTag already exists</text></g><g class="message" data-participant-1="Tags" data-participant-2="Command"><polygon fill="#181818" points="485.2052,391.8341,475.2052,395.8341,485.2052,399.8341,481.2052,395.8341" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="479.2052" x2="844.3369" y1="395.8341" y2="395.8341"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105.1311" x="491.2052" y="390.0251">result (true/false)</text></g><path d="M10,410.8341 L76.918,410.8341 L76.918,420.5401 L66.918,430.5401 L10,430.5401 L10,410.8341" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="51.412" style="stroke:#000000;stroke-width:1.5;" width="551.5599" x="10" y="410.8341"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21.918" x="25" y="425.7311">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="129.4031" x="91.918" y="424.593">[newTag already exists]</text><g class="message" data-participant-1="Command" data-participant-2="Zettel"><polygon fill="#181818" points="63.6359,450.2461,53.6359,454.2461,63.6359,458.2461,59.6359,454.2461" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="57.6359" x2="463.2052" y1="454.2461" y2="454.2461"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="387.5693" x="69.6359" y="448.4371">throw TagAlreadyExistsException("Tag 'newTag' already exists")</text></g><g class="message" data-participant-1="Command" data-participant-2="Tags"><polygon fill="#181818" points="828.3369,488.9521,838.3369,492.9521,828.3369,496.9521,832.3369,492.9521" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="474.2052" x2="834.3369" y1="492.9521" y2="492.9521"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="171.1841" x="481.2052" y="487.1431">replace oldTag with newTag</text></g><g class="message" data-participant-1="Tags" data-participant-2="Command"><polygon fill="#181818" points="485.2052,520.6582,475.2052,524.6582,485.2052,528.6582,481.2052,524.6582" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="479.2052" x2="844.3369" y1="524.6582" y2="524.6582"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51.3371" x="491.2052" y="518.8492">updated</text></g><g class="message" data-participant-1="Command" data-participant-2="Notes"><polygon fill="#181818" points="675.8804,570.0702,685.8804,574.0702,675.8804,578.0702,679.8804,574.0702" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="474.2052" x2="681.8804" y1="574.0702" y2="574.0702"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="194.6752" x="481.2052" y="550.5552">for each note containing oldTag</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126.0741" x="481.2052" y="568.2612">replace with newTag</text></g><g class="message" data-participant-1="Notes" data-participant-2="Command"><polygon fill="#181818" points="485.2052,601.7762,475.2052,605.7762,485.2052,609.7762,481.2052,605.7762" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="479.2052" x2="691.8804" y1="605.7762" y2="605.7762"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133.2241" x="491.2052" y="599.9672">tags updated in notes</text></g><g class="message" data-participant-1="Command" data-participant-2="Storage"><polygon fill="#181818" points="1015.1184,633.4822,1025.1184,637.4822,1015.1184,641.4822,1019.1184,637.4822" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="474.2052" x2="1021.1184" y1="637.4822" y2="637.4822"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106.0931" x="481.2052" y="631.6732">updateTags(tags)</text></g><g class="message" data-participant-1="Storage" data-participant-2="Command"><polygon fill="#181818" points="485.2052,665.1882,475.2052,669.1882,485.2052,673.1882,481.2052,669.1882" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="479.2052" x2="1031.1184" y1="669.1882" y2="669.1882"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.1121" x="491.2052" y="663.3792">tags persisted</text></g><g class="message" data-participant-1="Command" data-participant-2="UI"><polygon fill="#181818" points="922.8826,696.8943,932.8826,700.8943,922.8826,704.8943,926.8826,700.8943" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="474.2052" x2="928.8826" y1="700.8943" y2="700.8943"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="290.8623" x="481.2052" y="695.0853">showSuccessfullyRenamedTag(oldTag, newTag)</text></g><g class="message" data-participant-1="UI" data-participant-2="Command"><polygon fill="#181818" points="485.2052,728.6003,475.2052,732.6003,485.2052,736.6003,481.2052,732.6003" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="479.2052" x2="938.8826" y1="732.6003" y2="732.6003"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31.226" x="491.2052" y="726.7913">done</text></g><g class="message" data-participant-1="Command" data-participant-2="Zettel"><polygon fill="#181818" points="63.6359,760.3063,53.6359,764.3063,63.6359,768.3063,59.6359,764.3063" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="57.6359" x2="468.2052" y1="764.3063" y2="764.3063"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="38.831" x="69.6359" y="758.4973">return</text></g><!--SRC=[hLHDRzf04BtxLuouG2IYtgs254L1GcgZg2azLBqCze1NCRlMxXZ2l-_iXuaDA1nQ3dXXtxvvx-ru6hIi2jMWPXZblucPwX6WWxZCci7-3zAuev-uVJIx7Ueo8DDw2DM6oUKFrkBnctByzLb-pmFShzmGpBXrUO2zibLw6u5IvWpNgdor37khvN37iR6ufVmrFWCchREiKYN1nXXUc_SC2rPxPEeCPl49z_FEI0xqJaNBD0acfk3bJQ5LKqXbxZvOElFP66Qp6Vp2MfN8ocXugT2H_pCp3SDtvPmu0sDXNQD-0rENOZ03-IGEk1SDKKqEN5bpWANUUyA5iJlaf_U26ayz6JqRBmeQQ_RYhGGsOCFLZEuoycfEbFCGOmv5HSKRg4sgAnObRlVX8uJjluAAKnAMN5ipJDYsz6M3jHFl9GrF1N-9LXAJf5kHyBanmKeVB3ooPyipZ2FJ64f3Bl05gPsngrbgElnJbd8-vEaJF8LwEyfO5h2sXENnlqTwdVvchWyH_nJWv-56pl4PQMSrzd1yoNlzUv60fQR6WhfBFoYkkZkuvRvjvFMWyj9nhBqAst56dDSEV-RINXRaSELxWw0mcb7fq0v1pH_TgRigAqwVo3yGvb_oJXqe7TXTNsOycNI-a7MI73nMgBUNKjFewUnwXnDVe3SukkcKdbV4DB76CApJK4jvBM51LAvHEl9CmsgPWwlCuRKj2d9kqzRrCLwjZsaIqvgcW7h2PBGAwq1EQJJrHGWakzQ3bhYrkezCgBy0]--></g></svg>