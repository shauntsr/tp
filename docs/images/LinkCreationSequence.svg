<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="866px" preserveAspectRatio="none" style="width:908px;height:866px;background:#FFFFFF;" version="1.1" viewBox="0 0 908 866" width="908px" zoomAndPan="magnify"><defs/><g><g><title>.Zettel</title><rect fill="#FFFFFF" height="801.6504" style="stroke:#181818;stroke-width:1;" width="10" x="42.6359" y="49.0679"/></g><g><title>.LinkNotesCommand</title><rect fill="#FFFFFF" height="768.9444" style="stroke:#181818;stroke-width:1;" width="10" x="298.5591" y="72.7739"/></g><g><title>.ArrayList.Note.</title><rect fill="#FFFFFF" height="31.706" style="stroke:#181818;stroke-width:1;" width="10" x="460.9132" y="104.4799"/></g><g><title>.ArrayList.Note.</title><rect fill="#FFFFFF" height="31.706" style="stroke:#181818;stroke-width:1;" width="10" x="460.9132" y="265.01"/></g><g><title>.ArrayList.Note.</title><rect fill="#FFFFFF" height="31.706" style="stroke:#181818;stroke-width:1;" width="10" x="460.9132" y="328.4221"/></g><g><title>.UI</title><rect fill="#FFFFFF" height="31.706" style="stroke:#181818;stroke-width:1;" width="10" x="612.7534" y="778.3063"/></g><g><title>sourceNote.Note</title><rect fill="#FFFFFF" height="31.706" style="stroke:#181818;stroke-width:1;" width="10" x="702.1681" y="522.6582"/></g><g><title>sourceNote.Note</title><rect fill="#FFFFFF" height="31.706" style="stroke:#181818;stroke-width:1;" width="10" x="702.1681" y="651.4822"/></g><g><title>targetNote.Note</title><rect fill="#FFFFFF" height="31.706" style="stroke:#181818;stroke-width:1;" width="10" x="836.2777" y="714.8943"/></g><rect fill="none" height="83.118" style="stroke:#000000;stroke-width:1.5;" width="634.1193" x="10" y="151.186"/><rect fill="none" height="51.412" style="stroke:#000000;stroke-width:1.5;" width="379.6628" x="10" y="375.1281"/><rect fill="none" height="51.412" style="stroke:#000000;stroke-width:1.5;" width="379.6628" x="10" y="440.5401"/><rect fill="none" height="51.412" style="stroke:#000000;stroke-width:1.5;" width="379.6628" x="10" y="569.3642"/><g><title>.Zettel</title><rect fill="#000000" fill-opacity="0.00000" height="820.6504" width="8" x="43.6359" y="39.0679"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="47" x2="47" y1="39.0679" y2="859.7183"/></g><g><title>.LinkNotesCommand</title><rect fill="#000000" fill-opacity="0.00000" height="820.6504" width="8" x="299.5591" y="39.0679"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="303.4554" x2="303.4554" y1="39.0679" y2="859.7183"/></g><g><title>.ArrayList.Note.</title><rect fill="#000000" fill-opacity="0.00000" height="820.6504" width="8" x="461.9132" y="39.0679"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="465.8934" x2="465.8934" y1="39.0679" y2="859.7183"/></g><g><title>.UI</title><rect fill="#000000" fill-opacity="0.00000" height="820.6504" width="8" x="613.7534" y="39.0679"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="617.3874" x2="617.3874" y1="39.0679" y2="859.7183"/></g><g><title>sourceNote.Note</title><rect fill="#000000" fill-opacity="0.00000" height="820.6504" width="8" x="703.1681" y="39.0679"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="707.1193" x2="707.1193" y1="39.0679" y2="859.7183"/></g><g><title>targetNote.Note</title><rect fill="#000000" fill-opacity="0.00000" height="820.6504" width="8" x="837.2777" y="39.0679"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="841.2169" x2="841.2169" y1="39.0679" y2="859.7183"/></g><g class="participant participant-head" data-participant="Zettel"><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="55.2718" x="20" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41.2718" x="27" y="26.9659">:Zettel</text></g><g class="participant participant-head" data-participant="Command"><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="152.2075" x="227.4554" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="138.2075" x="234.4554" y="26.9659">:LinkNotesCommand</text></g><g class="participant participant-head" data-participant="Notes"><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="124.0396" x="403.8934" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110.0396" x="410.8934" y="26.9659">:ArrayList&lt;Note&gt;</text></g><g class="participant participant-head" data-participant="UI"><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="32.7319" x="601.3874" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="18.7319" x="608.3874" y="26.9659">:UI</text></g><g class="participant participant-head" data-participant="SourceNote"><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="126.0976" x="644.1193" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112.0976" x="651.1193" y="26.9659">sourceNote:Note</text></g><g class="participant participant-head" data-participant="TargetNote"><rect fill="#E2E2F0" height="33.0679" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="122.1216" x="780.2169" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108.1216" x="787.2169" y="26.9659">targetNote:Note</text></g><g><title>.Zettel</title><rect fill="#FFFFFF" height="801.6504" style="stroke:#181818;stroke-width:1;" width="10" x="42.6359" y="49.0679"/></g><g><title>.LinkNotesCommand</title><rect fill="#FFFFFF" height="768.9444" style="stroke:#181818;stroke-width:1;" width="10" x="298.5591" y="72.7739"/></g><g><title>.ArrayList.Note.</title><rect fill="#FFFFFF" height="31.706" style="stroke:#181818;stroke-width:1;" width="10" x="460.9132" y="104.4799"/></g><g><title>.ArrayList.Note.</title><rect fill="#FFFFFF" height="31.706" style="stroke:#181818;stroke-width:1;" width="10" x="460.9132" y="265.01"/></g><g><title>.ArrayList.Note.</title><rect fill="#FFFFFF" height="31.706" style="stroke:#181818;stroke-width:1;" width="10" x="460.9132" y="328.4221"/></g><g><title>.UI</title><rect fill="#FFFFFF" height="31.706" style="stroke:#181818;stroke-width:1;" width="10" x="612.7534" y="778.3063"/></g><g><title>sourceNote.Note</title><rect fill="#FFFFFF" height="31.706" style="stroke:#181818;stroke-width:1;" width="10" x="702.1681" y="522.6582"/></g><g><title>sourceNote.Note</title><rect fill="#FFFFFF" height="31.706" style="stroke:#181818;stroke-width:1;" width="10" x="702.1681" y="651.4822"/></g><g><title>targetNote.Note</title><rect fill="#FFFFFF" height="31.706" style="stroke:#181818;stroke-width:1;" width="10" x="836.2777" y="714.8943"/></g><g class="message" data-participant-1="Zettel" data-participant-2="Command"><polygon fill="#181818" points="286.5591,68.7739,296.5591,72.7739,286.5591,76.7739,290.5591,72.7739" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="52.6359" x2="292.5591" y1="72.7739" y2="72.7739"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="194.7532" x="59.6359" y="66.9649">execute(notes, tags, ui, storage)</text></g><g class="message" data-participant-1="Command" data-participant-2="Notes"><polygon fill="#181818" points="448.9132,100.4799,458.9132,104.4799,448.9132,108.4799,452.9132,104.4799" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="308.5591" x2="454.9132" y1="104.4799" y2="104.4799"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.2501" x="315.5591" y="98.6709">check isEmpty()</text></g><g class="message" data-participant-1="Notes" data-participant-2="Command"><polygon fill="#181818" points="319.5591,132.186,309.5591,136.186,319.5591,140.186,315.5591,136.186" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="313.5591" x2="464.9132" y1="136.186" y2="136.186"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78.6891" x="325.5591" y="130.377">return (false)</text></g><path d="M10,151.186 L76.918,151.186 L76.918,160.892 L66.918,170.892 L10,170.892 L10,151.186" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="83.118" style="stroke:#000000;stroke-width:1.5;" width="634.1193" x="10" y="151.186"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21.918" x="25" y="166.083">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="77.9344" x="91.918" y="164.9449">[Notes empty]</text><g class="message" data-participant-1="Command" data-participant-2="UI"><polygon fill="#181818" points="605.7534,190.598,615.7534,194.598,605.7534,198.598,609.7534,194.598" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="308.5591" x2="611.7534" y1="194.598" y2="194.598"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="177.2941" x="315.5591" y="188.789">show error "No notes to link"</text></g><g class="message" data-participant-1="Command" data-participant-2="Zettel"><polygon fill="#181818" points="63.6359,222.304,53.6359,226.304,63.6359,230.304,59.6359,226.304" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="57.6359" x2="297.5591" y1="226.304" y2="226.304"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152.9191" x="69.6359" y="220.495">throw NoNotesException</text></g><g class="message" data-participant-1="Command" data-participant-2="Notes"><polygon fill="#181818" points="448.9132,261.01,458.9132,265.01,448.9132,269.01,452.9132,265.01" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="308.5591" x2="454.9132" y1="265.01" y2="265.01"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133.3541" x="315.5591" y="259.201">find sourceNote by ID</text></g><g class="message" data-participant-1="Notes" data-participant-2="Command"><polygon fill="#181818" points="319.5591,292.716,309.5591,296.716,319.5591,300.716,315.5591,296.716" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="313.5591" x2="464.9132" y1="296.716" y2="296.716"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113.9581" x="325.5591" y="290.907">return SourceNote</text></g><g class="message" data-participant-1="Command" data-participant-2="Notes"><polygon fill="#181818" points="448.9132,324.4221,458.9132,328.4221,448.9132,332.4221,452.9132,328.4221" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="308.5591" x2="454.9132" y1="328.4221" y2="328.4221"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129.6621" x="315.5591" y="322.6131">find targetNote by ID</text></g><g class="message" data-participant-1="Notes" data-participant-2="Command"><polygon fill="#181818" points="319.5591,356.1281,309.5591,360.1281,319.5591,364.1281,315.5591,360.1281" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="313.5591" x2="464.9132" y1="360.1281" y2="360.1281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111.8911" x="325.5591" y="354.3191">return TargetNote</text></g><path d="M10,375.1281 L76.918,375.1281 L76.918,384.8341 L66.918,394.8341 L10,394.8341 L10,375.1281" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="51.412" style="stroke:#000000;stroke-width:1.5;" width="379.6628" x="10" y="375.1281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21.918" x="25" y="390.0251">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="113.9592" x="91.918" y="388.887">[Either note missing]</text><g class="message" data-participant-1="Command" data-participant-2="Zettel"><polygon fill="#181818" points="63.6359,414.5401,53.6359,418.5401,63.6359,422.5401,59.6359,418.5401" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="57.6359" x2="297.5591" y1="418.5401" y2="418.5401"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="182.3902" x="69.6359" y="412.7311">throw InvalidNoteIdException</text></g><path d="M10,440.5401 L76.918,440.5401 L76.918,450.2461 L66.918,460.2461 L10,460.2461 L10,440.5401" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="51.412" style="stroke:#000000;stroke-width:1.5;" width="379.6628" x="10" y="440.5401"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21.918" x="25" y="455.4371">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="65.4605" x="91.918" y="454.299">[Same note]</text><g class="message" data-participant-1="Command" data-participant-2="Zettel"><polygon fill="#181818" points="63.6359,479.9521,53.6359,483.9521,63.6359,487.9521,59.6359,483.9521" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="57.6359" x2="297.5591" y1="483.9521" y2="483.9521"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176.3842" x="69.6359" y="478.1431">throw NoteSelfLinkException</text></g><g class="message" data-participant-1="Command" data-participant-2="SourceNote"><polygon fill="#181818" points="690.1681,518.6582,700.1681,522.6582,690.1681,526.6582,694.1681,522.6582" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="308.5591" x2="696.1681" y1="522.6582" y2="522.6582"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152.4901" x="315.5591" y="516.8492">isLinkedTo(targetNoteId)</text></g><g class="message" data-participant-1="SourceNote" data-participant-2="Command"><polygon fill="#181818" points="319.5591,550.3642,309.5591,554.3642,319.5591,558.3642,315.5591,554.3642" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="313.5591" x2="706.1681" y1="554.3642" y2="554.3642"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70.8891" x="325.5591" y="548.5552">return false</text></g><path d="M10,569.3642 L76.918,569.3642 L76.918,579.0702 L66.918,589.0702 L10,589.0702 L10,569.3642" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="51.412" style="stroke:#000000;stroke-width:1.5;" width="379.6628" x="10" y="569.3642"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21.918" x="25" y="584.2612">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="86.6684" x="91.918" y="583.1231">[Already linked]</text><g class="message" data-participant-1="Command" data-participant-2="Zettel"><polygon fill="#181818" points="63.6359,608.7762,53.6359,612.7762,63.6359,616.7762,59.6359,612.7762" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="57.6359" x2="297.5591" y1="612.7762" y2="612.7762"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="221.9232" x="69.6359" y="606.9672">throw NotesAlreadyLinkedException</text></g><g class="message" data-participant-1="Command" data-participant-2="SourceNote"><polygon fill="#181818" points="690.1681,647.4822,700.1681,651.4822,690.1681,655.4822,694.1681,651.4822" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="308.5591" x2="696.1681" y1="651.4822" y2="651.4822"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="193.8952" x="315.5591" y="645.6732">addOutgoingLink(targetNoteId)</text></g><g class="message" data-participant-1="SourceNote" data-participant-2="Command"><polygon fill="#181818" points="319.5591,679.1882,309.5591,683.1882,319.5591,687.1882,315.5591,683.1882" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="313.5591" x2="706.1681" y1="683.1882" y2="683.1882"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63.6741" x="325.5591" y="677.3792">link added</text></g><g class="message" data-participant-1="Command" data-participant-2="TargetNote"><polygon fill="#181818" points="824.2777,710.8943,834.2777,714.8943,824.2777,718.8943,828.2777,714.8943" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="308.5591" x2="830.2777" y1="714.8943" y2="714.8943"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="197.5482" x="315.5591" y="709.0853">addIncomingLink(sourceNoteId)</text></g><g class="message" data-participant-1="TargetNote" data-participant-2="Command"><polygon fill="#181818" points="319.5591,742.6003,309.5591,746.6003,319.5591,750.6003,315.5591,746.6003" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="313.5591" x2="840.2777" y1="746.6003" y2="746.6003"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63.6741" x="325.5591" y="740.7913">link added</text></g><g class="message" data-participant-1="Command" data-participant-2="UI"><polygon fill="#181818" points="600.7534,774.3063,610.7534,778.3063,600.7534,782.3063,604.7534,778.3063" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="308.5591" x2="606.7534" y1="778.3063" y2="778.3063"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="285.1943" x="315.5591" y="772.4973">showSuccessfulLinking(sourceTitle, targetTitle)</text></g><g class="message" data-participant-1="UI" data-participant-2="Command"><polygon fill="#181818" points="319.5591,806.0123,309.5591,810.0123,319.5591,814.0123,315.5591,810.0123" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="313.5591" x2="616.7534" y1="810.0123" y2="810.0123"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31.226" x="325.5591" y="804.2033">done</text></g><g class="message" data-participant-1="Command" data-participant-2="Zettel"><polygon fill="#181818" points="63.6359,837.7183,53.6359,841.7183,63.6359,845.7183,59.6359,841.7183" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="57.6359" x2="302.5591" y1="841.7183" y2="841.7183"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="38.831" x="69.6359" y="835.9093">return</text></g><!--SRC=[fLJ1RgCm4BtxAqOvPQNq1z2gKhMRWwKgUqXowSsr1x0ADhA7DldxjGqf9alKh9g3Cy2RcVVU37J2aPQw4uPWLRmW4JOh41w6a7Mpvy_QlEqieVzbsrOObP1ZV0LzSawSdxMddp7XCI5JwXNkoDEZ8v_VzxPt4cD24O-4sN_UcsD9k0ffZZrytcEirWgXj9PUxOa9IVfT45u43d_my7ZHKG2UKFQ4QnFfRe145SvURy2JTQB27rEHYtOs1h5EKbc0h56-WVRRjgFpEiiPN4WdFEHz7LBl3AnBqVZGHE5L2hCT3I5WBCeW_BB6Hrw0h-q7e7FMmMfd8Ka0ij24oQtc2I5Z45y0rIwaxMmglZr9x4XRmt1PMQd3vJGWU3q3_ts_lcoC_qgyqMqQyVzsonPXsT2jfXfTSWfQxRqsrHS-SVCk6grY3Qwkt8eLzwB5LEzBlmdts9JnhRfj-cHN4ROfOb4Tx7foXAjikJ9pft3HcBHbkITPQfBnr3WKwfnM1zKTMloOCN2yJv5GwazFbGsknxHlo8eqOxb0zOQeZCAq5Oa2DzAs5mhJPiyeP8iqXVTGo3z52s_hlfSIlI_x9dOF94O21qqDRiRDJnSPcV2vFF9vSsNDR9m1mfRcDOm_Huwelm00]--></g></svg>